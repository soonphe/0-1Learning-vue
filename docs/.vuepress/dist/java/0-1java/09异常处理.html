<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>0-1Learning | 0-1Learning</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="0-1Learning">
    
    <link rel="preload" href="/assets/css/0.styles.af94bc93.css" as="style"><link rel="preload" href="/assets/js/app.17aee070.js" as="script"><link rel="preload" href="/assets/js/2.7958ad2e.js" as="script"><link rel="preload" href="/assets/js/1.7d2ce2f4.js" as="script"><link rel="preload" href="/assets/js/22.2305a56b.js" as="script"><link rel="prefetch" href="/assets/js/10.b94503af.js"><link rel="prefetch" href="/assets/js/11.70d81406.js"><link rel="prefetch" href="/assets/js/12.f3bd2ddc.js"><link rel="prefetch" href="/assets/js/13.a937d7c7.js"><link rel="prefetch" href="/assets/js/14.479fcbe9.js"><link rel="prefetch" href="/assets/js/15.e8695e46.js"><link rel="prefetch" href="/assets/js/16.9218210b.js"><link rel="prefetch" href="/assets/js/17.d6a34ebd.js"><link rel="prefetch" href="/assets/js/18.d4e4d502.js"><link rel="prefetch" href="/assets/js/19.400e4260.js"><link rel="prefetch" href="/assets/js/20.df7c516c.js"><link rel="prefetch" href="/assets/js/21.8eee500b.js"><link rel="prefetch" href="/assets/js/23.3f29498b.js"><link rel="prefetch" href="/assets/js/24.1fa90cca.js"><link rel="prefetch" href="/assets/js/25.42edb11d.js"><link rel="prefetch" href="/assets/js/26.ef8e36d8.js"><link rel="prefetch" href="/assets/js/27.bfc3558c.js"><link rel="prefetch" href="/assets/js/28.8ce08aef.js"><link rel="prefetch" href="/assets/js/29.e5c88be8.js"><link rel="prefetch" href="/assets/js/3.4802e5b0.js"><link rel="prefetch" href="/assets/js/30.a2ec79f8.js"><link rel="prefetch" href="/assets/js/31.d878ec35.js"><link rel="prefetch" href="/assets/js/32.4e9b0598.js"><link rel="prefetch" href="/assets/js/33.34802552.js"><link rel="prefetch" href="/assets/js/34.71351f91.js"><link rel="prefetch" href="/assets/js/35.2d0ea71e.js"><link rel="prefetch" href="/assets/js/36.9cfb657a.js"><link rel="prefetch" href="/assets/js/37.de816371.js"><link rel="prefetch" href="/assets/js/38.708a0eb4.js"><link rel="prefetch" href="/assets/js/39.495ff751.js"><link rel="prefetch" href="/assets/js/4.629d7e03.js"><link rel="prefetch" href="/assets/js/40.98c6bd77.js"><link rel="prefetch" href="/assets/js/41.79bd7ce7.js"><link rel="prefetch" href="/assets/js/42.9442e493.js"><link rel="prefetch" href="/assets/js/43.4fb3a986.js"><link rel="prefetch" href="/assets/js/44.5ca53d30.js"><link rel="prefetch" href="/assets/js/45.b59a36d2.js"><link rel="prefetch" href="/assets/js/46.de814031.js"><link rel="prefetch" href="/assets/js/47.eb0a0318.js"><link rel="prefetch" href="/assets/js/48.d2ca5ccf.js"><link rel="prefetch" href="/assets/js/49.838d5b41.js"><link rel="prefetch" href="/assets/js/5.f0820a50.js"><link rel="prefetch" href="/assets/js/50.19c7b492.js"><link rel="prefetch" href="/assets/js/51.9370a371.js"><link rel="prefetch" href="/assets/js/52.6444492e.js"><link rel="prefetch" href="/assets/js/53.3d02e4a0.js"><link rel="prefetch" href="/assets/js/54.dbec3ca9.js"><link rel="prefetch" href="/assets/js/55.5f4f23ae.js"><link rel="prefetch" href="/assets/js/56.3b4e082a.js"><link rel="prefetch" href="/assets/js/57.0a4cfa05.js"><link rel="prefetch" href="/assets/js/58.4b19a5cd.js"><link rel="prefetch" href="/assets/js/59.57922c23.js"><link rel="prefetch" href="/assets/js/6.a84a7b19.js"><link rel="prefetch" href="/assets/js/60.dc1aa1b3.js"><link rel="prefetch" href="/assets/js/61.59fd5324.js"><link rel="prefetch" href="/assets/js/62.5c4074d5.js"><link rel="prefetch" href="/assets/js/63.37319a25.js"><link rel="prefetch" href="/assets/js/64.e1e1bf3a.js"><link rel="prefetch" href="/assets/js/65.36378e94.js"><link rel="prefetch" href="/assets/js/66.e7aa3f49.js"><link rel="prefetch" href="/assets/js/67.045227dc.js"><link rel="prefetch" href="/assets/js/68.30918fbf.js"><link rel="prefetch" href="/assets/js/7.66951093.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.1b782076.js">
    <link rel="stylesheet" href="/assets/css/0.styles.af94bc93.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">0-1Learning</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/java/0-1java/09异常处理.html" class="nav-link">
  zh-CN
</a></li><li class="dropdown-item"><!----> <a href="/en/" class="nav-link">
  en-US
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/java/0-1java/09异常处理.html" class="nav-link">
  zh-CN
</a></li><li class="dropdown-item"><!----> <a href="/en/" class="nav-link">
  en-US
</a></li></ul></div></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_0-1learning"><a href="#_0-1learning" class="header-anchor">#</a> 0-1Learning</h1> <p><img src="/assets/img/luoxiaosheng.3e3f64f6.svg" alt="alt text" title="公众号"> <img src="/assets/img/luoxiaosheng_learning.c39ce245.svg" alt="alt text" title="学习"> <img src="/assets/img/luoxiaosheng_wechat.8efd3324.svg" alt="alt text" title="微信"></p> <h2 id="异常处理"><a href="#异常处理" class="header-anchor">#</a> 异常处理</h2> <h3 id="简介"><a href="#简介" class="header-anchor">#</a> 简介</h3> <ul><li>异常是程序中的一些错误，但并不是所有的错误都是异常，并且错误有时候是可以避免的。比如说，你的代码少了一个分号，那么运行出来结果是提示是错误 java.lang.Error；如果你用System.out.println(100/0)，那么你是因为你用0做了除数，会抛出 java.lang.ArithmeticException 的异常。</li></ul> <h3 id="要点"><a href="#要点" class="header-anchor">#</a> 要点</h3> <ul><li>异常类的继承关系</li> <li>抓抛模型</li> <li>try-catch-finally关键字</li> <li>throw和throws关键字</li></ul> <h3 id="异常是什么"><a href="#异常是什么" class="header-anchor">#</a> 异常是什么</h3> <ul><li><p>异常 是在程序执行过程中发生的一些不希望发生的事情，这些事情如果不被好好处理，就会导致奇怪的结果或者是程序终结。Exception Hander是那些当异常发生时处理这些异常的代码。java和javascript都用try／catch来处理异常。​</p></li> <li><p>程序运行过程时都可能发生会打断程序正常执行的事件。比如除数为零0、数组下标越界、文件找不到、内存不足等。</p></li> <li><p>Java异常处理</p> <ul><li>利用抓抛模型处理异常</li> <li>利用面向对象的方法来处理异常</li></ul></li></ul> <h3 id="异常类型"><a href="#异常类型" class="header-anchor">#</a> 异常类型</h3> <ul><li><p>产生一个异常就是由系统（JVM）自动的实例化一个异常类的 对象。</p> <ul><li>称为抛出异常</li></ul></li> <li><p>异常的继承树</p> <ul><li>检查性异常（checked exception）</li> <li>非检查性异常（unchecked exception）
<img src="/assets/img/java_exception.f802abd5.png" alt="alt text"></li></ul></li></ul> <h3 id="java异常架构"><a href="#java异常架构" class="header-anchor">#</a> Java异常架构</h3> <h4 id="throwable-结构"><a href="#throwable-结构" class="header-anchor">#</a> Throwable 结构</h4> <div class="language- extra-class"><pre><code>* Throwable是 Java 语言中所有错误或异常的超类。 
* Throwable包含了其线程创建时线程执行堆栈的快照，它提供了printStackTrace()等接口用于获取堆栈跟踪数据等信息。
* Throwable包含两个子类:
    * Error
        * 和Exception一样， Error也是Throwable的子类。 它用于指示合理的应用程序不应该试图捕获的严重问题，大多数这样的错误都是异常条件。 
        * 和RuntimeException一样， 编译器也不会检查Error。
    * Exception
        * Exception及其子类是 Throwable 的一种形式，它指出了合理的应用程序想要捕获的条件。
        * RuntimeException
            * RuntimeException是那些可能在 Java 虚拟机正常运行期间抛出的异常的超类。 
            * 编译器不会检查RuntimeException异常。 例如，除数为零时，抛出ArithmeticException异常。RuntimeException是ArithmeticException的超类。当代码发生除数为零的情况时，倘若既&quot;没有通过throws声明抛出ArithmeticException异常&quot;，也&quot;没有通过try...catch...处理该异常&quot;，也能通过编译。这就是我们所说的&quot;编译器不会检查RuntimeException异常&quot;！ 
            * 如果代码会产生RuntimeException异常，则需要通过修改代码进行避免。 例如，若会发生除数为零的情况，则需要通过代码避免该情况的发生！
</code></pre></div><h4 id="throwable三种类型"><a href="#throwable三种类型" class="header-anchor">#</a> Throwable三种类型：</h4> <ul><li>被检查的异常(Checked Exception)</li> <li>运行时异常(RuntimeException)</li> <li>错误(Error)。</li></ul> <ol><li><p>运行时异常</p> <ul><li>定义 : RuntimeException及其子类都被称为运行时异常。</li> <li>特点 : Java编译器不会检查它。 也就是说，当程序中可能出现这类异常时，倘若既&quot;没有通过throws声明抛出它&quot;，也&quot;没有用try-catch语句捕获它&quot;，还是会编译通过。例如，除数为零时产生的ArithmeticException异常，数组越界时产生的IndexOutOfBoundsException异常，fail-fail机制产生的ConcurrentModificationException异常等，都属于运行时异常。</li> <li>虽然Java编译器不会检查运行时异常，但是我们也可以通过throws进行声明抛出，也可以通过try-catch对它进行捕获处理。</li> <li>如果产生运行时异常，则需要通过修改代码来进行避免。 例如，若会发生除数为零的情况，则需要通过代码避免该情况的发生！</li></ul></li> <li><p>被检查的异常</p> <ul><li>定义 :  Exception类本身，以及Exception的子类中除了&quot;运行时异常&quot;之外的其它子类都属于被检查异常。</li> <li>特点 : Java编译器会检查它。 此类异常，要么通过throws进行声明抛出，要么通过try-catch进行捕获处理，否则不能通过编译。</li> <li>例如，CloneNotSupportedException就属于被检查异常。当通过clone()接口去克隆一个对象，而该对象对应的类没有实现Cloneable接口，就会抛出CloneNotSupportedException异常。</li> <li>被检查异常通常都是可以恢复的。</li></ul></li> <li><p>错误</p> <ul><li>定义 : Error类及其子类。</li> <li>特点 : 和运行时异常一样，编译器也不会对错误进行检查。</li> <li>当资源不足、约束失败、或是其它程序无法继续运行的条件发生时，就产生错误。程序本身无法修复这些错误的。例如，VirtualMachineError就属于错误。</li> <li>按照Java惯例，我们是不应该是实现任何新的Error子类的！</li></ul></li></ol> <ul><li>说明： 对于上面的3种结构，我们在抛出异常或错误时，到底该哪一种？《Effective Java》中给出的建议是： 对于可以恢复的条件使用被检查异常，对于程序错误使用运行时异常。</li></ul> <h3 id="常见异常"><a href="#常见异常" class="header-anchor">#</a> 常见异常</h3> <ul><li><p>运行时异常：</p> <ul><li>ArithmeticException:算术溢出异常</li> <li>ClassCastException:类型转换异常</li> <li>IllegalClassFormatException：方法参数的数据类型不正确</li> <li>NullPointerException:空指针异常</li> <li>ArrayIndexOutOfBoundsException:数组越界</li></ul></li> <li><p>检查异常：</p> <ul><li>ClassNotFoundException：找不到类异常</li> <li>InterruptedException:中断异常</li> <li>IOException：输入输出流异常</li> <li>FileNotFoundException:找不到文件异常</li></ul></li></ul> <h3 id="方法调用堆栈"><a href="#方法调用堆栈" class="header-anchor">#</a> 方法调用堆栈</h3> <ul><li>后进先出</li></ul> <h3 id="抛出异常对象"><a href="#抛出异常对象" class="header-anchor">#</a> 抛出异常对象</h3> <div class="language- extra-class"><pre class="language-text"><code>Exception in thread &quot;main&quot; 
    java.lang.ArrayIndexOutOfBoundsException: 5 
    at Sample.methodThree(Sample.java:17)
    at Sample.methodTwo(Sample.java:13) 
    at Sample.methodOne(Sample.java:9) 
    at Sample.main(Sample.java:5)
Press any key to continue...
</code></pre></div><h3 id="捕获异常"><a href="#捕获异常" class="header-anchor">#</a> 捕获异常</h3> <ul><li>try块和catch块try块和catch块</li> <li>catch块，是用来捕获并处理try块抛出的异常的代码块。没有try块，catch块不能单独存在。我们可以有多个catch块，以捕获不同类型的异常。</li></ul> <div class="language- extra-class"><pre class="language-text"><code>try{
	System.out.println(arr[3]);
	System.out.println(&quot;Three&quot;); 19	
} catch(ArrayIndexOutOfBoundsException ex){
    System.out.println(&quot;catched&quot;); 
}

</code></pre></div><h3 id="抓抛模型"><a href="#抓抛模型" class="header-anchor">#</a> 抓抛模型</h3> <ul><li>如果程序抛出多个不同类型的异常，我们需要多个catch()语句来处理。</li> <li>和特殊异常类相关联的catch()块必须写在和普 通异常类相关联的catch() 之前。</li></ul> <h3 id="finally块"><a href="#finally块" class="header-anchor">#</a> finally块</h3> <ul><li>在try-catch之后存在finally 块，表示执行try-catch块以后，无论有无抛出Exception，最后必须执行finally块的代码。</li> <li>通常在finally块中编写将资源返还给系统的语句，它一般包括：</li> <li>释放动态分配的内存块</li> <li>关闭文件</li> <li>关闭数据库结果集</li> <li>关闭与数据库建立的连接</li></ul> <h3 id="throw语句"><a href="#throw语句" class="header-anchor">#</a> throw语句</h3> <ul><li>二次抛出</li></ul> <div class="language- extra-class"><pre class="language-text"><code>catch(Exception e) {
System.out.println(&quot;一个异常已经产生&quot;); throw e;
}

throw new IOException();
</code></pre></div><h4 id="throws声明方法抛出异常"><a href="#throws声明方法抛出异常" class="header-anchor">#</a> throws声明方法抛出异常</h4> <ul><li>throws用来声明一个成员函数可能抛出的各种“异常”</li> <li>位置：函数头的后面</li> <li>方法中如果抛出：
<ul><li>非检查性异常：去除Bug，直到不抛出异常；</li> <li>检查性异常</li></ul></li> <li>不进行处理，编译通不过。</li> <li>在该函数内try-catch，把异常处理掉。那么不往上一级抛出异常，程序正常执行，上一级方法并不知道曾经产生异常。</li> <li>用throws声明方法抛出异常，不进行处理。谁调用谁 负责处理。</li></ul> <div class="language- extra-class"><pre class="language-text"><code>01	class ThrowsDemo{
02	public static void proc( ) throws IOException{ 
03		System.out.println(&quot;inside proc&quot;);
04		throw new IOException(&quot;ThrowsDemo&quot;); 
05	}
06	public static void main(String args[ ]){ 
07		try{
08	        proc ();
09	    }catch(IOException e){
10		    System.out.println(&quot;caught&quot;+e); 
11	    }
12	}
13 }
</code></pre></div><h3 id="用户自定义异常"><a href="#用户自定义异常" class="header-anchor">#</a> 用户自定义异常</h3> <ul><li><p>如果Java提供的异常类型不能满足程序设计的需要，我们可以
定义自己的异常类型。</p></li> <li><p>继承Exception类或其子类</p></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.17aee070.js" defer></script><script src="/assets/js/2.7958ad2e.js" defer></script><script src="/assets/js/1.7d2ce2f4.js" defer></script><script src="/assets/js/22.2305a56b.js" defer></script>
  </body>
</html>

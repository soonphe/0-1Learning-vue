(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{241:function(t,a,e){t.exports=e.p+"assets/img/luoxiaosheng.3e3f64f6.svg"},242:function(t,a,e){t.exports=e.p+"assets/img/luoxiaosheng_learning.c39ce245.svg"},243:function(t,a,e){t.exports=e.p+"assets/img/luoxiaosheng_wechat.8efd3324.svg"},354:function(t,a,e){"use strict";e.r(a);var n=e(14),r=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_0-1learning"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-1learning"}},[t._v("#")]),t._v(" 0-1Learning")]),t._v(" "),a("p",[a("img",{attrs:{src:e(241),alt:"alt text",title:"公众号"}}),t._v(" "),a("img",{attrs:{src:e(242),alt:"alt text",title:"学习"}}),t._v(" "),a("img",{attrs:{src:e(243),alt:"alt text",title:"微信"}})]),t._v(" "),a("h2",{attrs:{id:"数据存储"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据存储"}},[t._v("#")]),t._v(" 数据存储")]),t._v(" "),a("h3",{attrs:{id:"ios文件存取"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ios文件存取"}},[t._v("#")]),t._v(" ios文件存取")]),t._v(" "),a("p",[t._v('App Sandbox（ios应用沙盒），不同APP不能互相读取数据\n写出文件：\nvar sp = NSSearchPathForDirectoriesinDomains\n(NSSearchPathDirectory,NSSearchPathDomainMask.AllDomainsMask,true)\nif sp.count>0{\nvar url = NSURL(fileURLWithPath:+"(sp[0])/data.txt")\nprintln(url)\nvar data = NSMuatableData()\ndata.appendData("hello swift\\n".dataUsingEncoding(NSUTF8StringEncoding，alloLossyConversion:true)!)\ndata.writeToFile(url.path,atomically: true)')]),t._v(" "),a("p",[t._v("读取文件：\nvar data = NSData(contentsOfFile: url.path!)\nvar str = NSString(data: data,encoding: NSUTF8StringEncoding)\nprintln(str)\n//还可以直接使用字符串读取\nvar str1 = NSString(contentsOfURL: url,encoding: NSUTF8StringEncoding, error: nil)\nprintln(str1)")]),t._v(" "),a("h3",{attrs:{id:"ios用户首选项数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ios用户首选项数据"}},[t._v("#")]),t._v(" ios用户首选项数据")]),t._v(" "),a("p",[t._v("用户首选项为键值对")]),t._v(" "),a("p",[t._v("2、存储用户首选项数据\nvar ud:NSUserdefaults!")]),t._v(" "),a("p",[t._v("inputText:UITextView    //定义控件绑定")]),t._v(" "),a("p",[t._v('var ud = NSUserDefaults.standardUserDefaults()\nud.setObject(inputText.text,forKey: "data")')]),t._v(" "),a("p",[t._v('3、读取用户首选项数据\n//判断是否为空\nif let value: AnyObject = ud.objectForKey("data"){\ninputText.text = value as String\n}')]),t._v(" "),a("p",[t._v("启动小贴士案例\nvar ud:NSUserdefaults!\n@IBOutlet weak var mySwitch: UISwitch!")]),t._v(" "),a("p",[t._v('//如果switch是on状态则提示\nvar ud = NSUserDefaults.standardUserDefaults()\nmySwitch.on = ud.boolForKey("showTips")\nif mySwitch.on{\nUIAlertView(title:"提示"，message: "今日提示内容", delegate: nil,cancelButtonTitle:"好的").show()\n}\n//监听switch控件状态\n@IBAction func valueChangedHandler(sender:AnyObjec){\nud.setBool(mySwitch.on, forKey:"showTips")\n}')]),t._v(" "),a("h3",{attrs:{id:"操作xml数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#操作xml数据"}},[t._v("#")]),t._v(" 操作XML数据")]),t._v(" "),a("p",[t._v("解析属性和内容\nfunc paeser()")]),t._v(" "),a("h3",{attrs:{id:"操作json数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#操作json数据"}},[t._v("#")]),t._v(" 操作JSON数据")]),t._v(" "),a("p",[t._v('创建json解析对象\nvar json: AnyObject? = NSJSONSerialization.JSONObjectWithData\n(NSData(contentsOfURL: NSURL(FILEurlWithPath: NSBundle.mailbundle().pathForResource("obj",ofType: "json"!)),\noptions:NSJSONReadingOptions.allZeros,error: nil))')]),t._v(" "),a("p",[t._v('//解析对象\nif let lang:AnyObject = json?.objectForKey("language"){\nprintln()\n}\n//如果不使用自动拆包（返回值为Optional）\nvar lang=  json?.objectForKey("language")\nprintln(lang!) //这里使用自动拆白')]),t._v(" "),a("p",[t._v('//生成json数据\nvar dict = ["name":"hello","age":1]\nvar jsonData = NSJSONSerialization.dataWithJSONObject(dict,\noptions:NSJONSWritingOptions.allZeros,error: nil)\nvar str = NSString(data:jsonData!,encoding:NSUTF8StringEncoding)\nprintln(str)')]),t._v(" "),a("h3",{attrs:{id:"操作plist数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#操作plist数据"}},[t._v("#")]),t._v(" 操作plist数据")]),t._v(" "),a("p",[t._v("properties list：plist为苹果平台的配置文件（可直接读取为数据或字典）")]),t._v(" "),a("p",[t._v('//读取数组\nvar arr=  NSArray(contentsOfURL:NSURL(fileURLWithPath: NSBundle.mainBundle().pathForResource("arr",offType:"plist")))\nprintln(arr[0])')]),t._v(" "),a("p",[t._v('//读取字典\nvar dict=  NSDictionary(contentsOfURL:NSURL(fileURLWithPath: NSBundle.mainBundle().pathForResource("arr",offType:"plist")))\nprintln(dict)')]),t._v(" "),a("p",[t._v('var name:String = dict["name"] as String    //单独取name\nprintln("name:{name}")')]),t._v(" "),a("h3",{attrs:{id:"coredata-即sqlite"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#coredata-即sqlite"}},[t._v("#")]),t._v(" CoreData——即SQLite")]),t._v(" "),a("p",[t._v("创建project时选择 是否使用 Use core data")]),t._v(" "),a("p",[t._v("获取数据库访问对象：\nvar context = (UIApplication.shareApplication().delegate as\nAppDelegate).managedObjectContext")]),t._v(" "),a("p",[t._v("新建数据库：在UsingData中，新建表entry，新建属性")]),t._v(" "),a("p",[t._v('import CoreData\n插入数据：\nvar row: AnyObject = NSEntityDescription.inserNewObjectForEntityForName(\n"表名Users"，inManagedObjectContext: context)\nrow.setValue("值hello",forKey: "数据库列名name")\nrow.setValue(1,forKey: "age")\ncontext?.save(nil)  //保存，会返回一个bool对象')]),t._v(" "),a("p",[t._v("读取数据\nimport CoreData\nvar dataArr:Array"),a("Anyobject",[t._v(" = []\nvar context:NSManagedObjectContext!")])],1),t._v(" "),a("p",[t._v('context = (UIApplication.shareApplication().delegate as AppDelegate)\n.manageobjectContext\nvar f = NSFetchRequest(entityName: "Users")\ndataArr = context.executeFetchRequest(f, error: nil)  //这里的错误不处理')]),t._v(" "),a("p",[t._v("更新数据\nimport CoreData\nvar data:NSManagedObject!")]),t._v(" "),a("p",[t._v("var data = dataArr[indexPath.row] as NSManagedObject")]),t._v(" "),a("p",[t._v('data.setValue("值hello",forKey: "数据库列名name")\ndata.setValue(1,forKey: "age")\ndata.managedObjctContext.save(nil)')]),t._v(" "),a("p",[t._v("删除数据\ncontext.deleteObject(dataArr[indexPath.row] as NSManagedObject)\nrefreshData()")]),t._v(" "),a("h3",{attrs:{id:"快速开发sqllite"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#快速开发sqllite"}},[t._v("#")]),t._v(" 快速开发sqllite")]),t._v(" "),a("p",[t._v("创建项目选址Master-Detail Application + 选择 core data")])])}),[],!1,null,null,null);a.default=r.exports}}]);